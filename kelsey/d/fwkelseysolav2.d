
// FWKELSEYSOLA.D : WE SHOULD MAKE THIS A SEPARATE INSTALL OPTION, SKING THE USER IF THEY HAVE SOLAUFEIN INSTALLED,
// OTHERWISE THE CHAIN WOULD FAIL BECAUSE THERE IS NO SOLA.DLG...


APPEND BJ#KLSY
IF ~Global("J#Sola1","LOCALS",0)
InParty("Sola")
See("Sola")
!StateCheck("Sola",STATE_SLEEPING)~ THEN BEGIN SOLA1
  SAY @1
  IF ~~ THEN DO ~SetGlobal("J#Sola1","LOCALS",1)~ EXTERN SOLA SOLA2
END
END

CHAIN SOLA SOLA2
@2 == BJ#KLSY @3 = @4 = @5 = @50 == SOLA @6 == BJ#KLSY @7 == SOLA @8 == BJ#KLSY @9 == SOLA @10 = @11 = @12 = @13 = @14 == BJ#KLSY @15 == SOLA @16 == BJ#KLSY @17
== SOLA @18 = @19 = @20 = @21 = @22 == BJ#KLSY @23 = @24
END SOLA SOLA3

APPEND SOLA
IF ~~ THEN BEGIN SOLA3
  SAY @25
  IF ~~ THEN EXIT
END
END
